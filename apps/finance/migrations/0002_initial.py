# Generated by Django 4.2.16 on 2025-05-21 22:34

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        ("inventory", "0001_initial"),
        ("finance", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ("company", "0002_branch_disable"),
        ("contenttypes", "0002_remove_content_type_name"),
    ]

    operations = [
        migrations.AddField(
            model_name="vattransaction",
            name="purchase_order",
            field=models.OneToOneField(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="inventory.purchaseorder",
            ),
        ),
        migrations.AddField(
            model_name="usertransaction",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="transactions",
                to="finance.useraccount",
            ),
        ),
        migrations.AddField(
            model_name="usertransaction",
            name="received_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="received_transactions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="useraccount",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="accounts",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="finance.chartofaccounts",
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="branch",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="company.branch",
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="customer",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="finance.customer",
            ),
        ),
        migrations.AddField(
            model_name="stocktransaction",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="finance.invoice"
            ),
        ),
        migrations.AddField(
            model_name="stocktransaction",
            name="item",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="inventory.product"
            ),
        ),
        migrations.AddField(
            model_name="stocktransaction",
            name="payment_content_type",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="payment_stock_transactions",
                to="contenttypes.contenttype",
            ),
        ),
        migrations.AddField(
            model_name="salesreturns",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.invoice"
            ),
        ),
        migrations.AddField(
            model_name="salesreturns",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="sale",
            name="transaction",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="finance.invoice"
            ),
        ),
        migrations.AddField(
            model_name="qoutationitems",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="inventory.inventory"
            ),
        ),
        migrations.AddField(
            model_name="qoutationitems",
            name="qoute",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="qoute_items",
                to="finance.qoutation",
            ),
        ),
        migrations.AddField(
            model_name="qoutation",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="qoutation",
            name="currency",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.currency",
            ),
        ),
        migrations.AddField(
            model_name="qoutation",
            name="customer",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.customer"
            ),
        ),
        migrations.AddField(
            model_name="purchasesaccount",
            name="purchase_order",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="purchases",
                to="inventory.purchaseorder",
            ),
        ),
        migrations.AddField(
            model_name="purchaseorderaccount",
            name="purchase_order",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="purchase_order",
                to="inventory.purchaseorder",
            ),
        ),
        migrations.AddField(
            model_name="payment",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="payments",
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="payment",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="paylater",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="paylater",
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="monthlyinstallment",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.invoice"
            ),
        ),
        migrations.AddField(
            model_name="mainincomecategory",
            name="sub_income_category",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.incomesubcategory",
            ),
        ),
        migrations.AddField(
            model_name="mainexpensecategory",
            name="sub_expense",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.expensesubcategory",
            ),
        ),
        migrations.AddField(
            model_name="laybydates",
            name="layby",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.layby"
            ),
        ),
        migrations.AddField(
            model_name="layby",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="layby",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="layby",
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="invoiceitem",
            name="invoice",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="invoice_items",
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="invoiceitem",
            name="item",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="inventory.inventory"
            ),
        ),
        migrations.AddField(
            model_name="invoiceitem",
            name="vat_rate",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="finance.vatrate"
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="currency",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.currency",
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="customer",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="finance.customer"
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="incomecategory",
            name="parent",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="incomes",
                to="finance.incomecategory",
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="category",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="finance.incomecategory"
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="expenses",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.expense",
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="sale",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="income",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="financenotifications",
            name="expense",
            field=models.OneToOneField(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.expense",
            ),
        ),
        migrations.AddField(
            model_name="financenotifications",
            name="invoice",
            field=models.OneToOneField(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="financenotifications",
            name="transfer",
            field=models.OneToOneField(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cashtransfers",
            ),
        ),
        migrations.AddField(
            model_name="expensecategory",
            name="parent",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="subcategories",
                to="finance.expensecategory",
            ),
        ),
        migrations.AddField(
            model_name="expense",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="expense",
            name="category",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="finance.expensecategory",
            ),
        ),
        migrations.AddField(
            model_name="expense",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="expense",
            name="purchase_order",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="inventory.purchaseorder",
            ),
        ),
        migrations.AddField(
            model_name="expense",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="customerdeposits",
            name="branch",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="company.branch",
            ),
        ),
        migrations.AddField(
            model_name="customerdeposits",
            name="cashier",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="cashier",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="customerdeposits",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="customerdeposits",
            name="customer_account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="customer_deposits",
                to="finance.customeraccountbalances",
            ),
        ),
        migrations.AddField(
            model_name="customeraccountbalances",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="balances",
                to="finance.customeraccount",
            ),
        ),
        migrations.AddField(
            model_name="customeraccountbalances",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="customeraccount",
            name="customer",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE, to="finance.customer"
            ),
        ),
        migrations.AddField(
            model_name="customer",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="cogsitems",
            name="cogs",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cogs",
            ),
        ),
        migrations.AddField(
            model_name="cogsitems",
            name="invoice",
            field=models.OneToOneField(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="cogsitems",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="inventory.inventory"
            ),
        ),
        migrations.AddField(
            model_name="cashwithdrawals",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.account"
            ),
        ),
        migrations.AddField(
            model_name="cashwithdrawals",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="cashwithdrawals",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashwithdraw",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="cashwithdraw",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashup",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="cashup",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_cashups",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashup",
            name="expenses",
            field=models.ManyToManyField(
                related_name="cashup_expenses", to="finance.expense"
            ),
        ),
        migrations.AddField(
            model_name="cashup",
            name="sales",
            field=models.ManyToManyField(
                related_name="cashup_sales", to="finance.invoice"
            ),
        ),
        migrations.AddField(
            model_name="cashtransfers",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="parent",
                to="company.branch",
            ),
        ),
        migrations.AddField(
            model_name="cashtransfers",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="cashtransfers",
            name="from_branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="kwarikuenda",
                to="company.branch",
            ),
        ),
        migrations.AddField(
            model_name="cashtransfers",
            name="to",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="to",
                to="company.branch",
            ),
        ),
        migrations.AddField(
            model_name="cashtransfers",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="cash_up",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cashup",
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_cashflows",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="expense_category",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.mainexpensecategory",
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="income_category",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.mainincomecategory",
            ),
        ),
        migrations.AddField(
            model_name="cashflow",
            name="name",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cashflowname",
            ),
        ),
        migrations.AddField(
            model_name="cashdeposit",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.account"
            ),
        ),
        migrations.AddField(
            model_name="cashdeposit",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="cashdeposit",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashbooknote",
            name="entry",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notes",
                to="finance.cashbook",
            ),
        ),
        migrations.AddField(
            model_name="cashbooknote",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashbook",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="cashbook",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AddField(
            model_name="cashbook",
            name="expense",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.expense",
            ),
        ),
        migrations.AddField(
            model_name="cashbook",
            name="invoice",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.invoice",
            ),
        ),
        migrations.AddField(
            model_name="accounttransaction",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.account"
            ),
        ),
        migrations.AddField(
            model_name="accounttransaction",
            name="cash_deposit",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cashdeposit",
            ),
        ),
        migrations.AddField(
            model_name="accounttransaction",
            name="cash_withdrawal",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.cashwithdraw",
            ),
        ),
        migrations.AddField(
            model_name="accounttransaction",
            name="expense",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.expense",
            ),
        ),
        migrations.AddField(
            model_name="accounttransaction",
            name="sales_returns",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="finance.salesreturns",
            ),
        ),
        migrations.AddField(
            model_name="accountbalance",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="balances",
                to="finance.account",
            ),
        ),
        migrations.AddField(
            model_name="accountbalance",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="company.branch"
            ),
        ),
        migrations.AddField(
            model_name="accountbalance",
            name="currency",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="finance.currency"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="customeraccountbalances",
            unique_together={("account", "currency")},
        ),
    ]
