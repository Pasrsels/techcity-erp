{% block content %}
<style>
      .l-p{
        height: 80vh;
        display: flex;
        flex-direction: column;
        justify-content: end;
        position: fixed;
        right: 0;
        z-index: 1000;
    }
    .l-p button{
        border-top-left-radius: 70%;
        border-bottom-left-radius: 70%;
    }

    .layby-btn {
        background-color: #007bff; 
        color: white;
    }
    .layby-btn:hover {
        background-color: #0056b3; 
    }

    .paylater-btn {
        background-color: #28a745;
        color: white;
    }

    .paylater-btn:hover {
        background-color: #1e7e34; 
    }

    .monthly-btn {
        background-color: #ffc107; 
        color: black;
    }

    .monthly-btn:hover {
        background-color: #d39e00; 
    }

    .hover-span {
        display: none;
        position: absolute;
        top: 0; 
        right: 100%; 
        background-color: #f8f9fa;
        padding: 5px 10px;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        white-space: nowrap;
        z-index: 10;
        transform: translateX(100%); 
        opacity: 0; 
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        cursor: pointer;
    }

    .hover-span.show {
        display: inline-block;
        transform: translateX(0); 
        opacity: 1; 
    }
    .hover-span.show + .l-p-button{
        border-radius: none;
    }
</style>

<div class="l-p">
    <!-- First Button -->
    <div class="position-relative d-inline-block mb-2">
        <button class="btn layby-btn btn-sm toggle-btn" onclick="toggleSpan(this)">
            L
        </button>
        <span class="hover-span" onclick="showModalWithLoader(this, 'Laybys')">Layby 
            <span class="badge bg-sm  layby-btn badge-custom text-light">5</span>
        </span>
    </div>

    <!-- Second Button -->
    <div class="position-relative d-inline-block mb-2">
        <button class="btn paylater-btn btn-sm toggle-btn" onclick="toggleSpan(this)">
            P
        </button>
        <span class="hover-span" onclick="showModalWithLoader(this, 'Paylaters')">PayLater 
            <span class="badge paylater-btn bg-sm badge-custom text-light">3</span>
        </span>
    </div>

    <!-- Third Button -->
    <div class="position-relative d-inline-block">
        <button class="btn monthly-btn btn-sm toggle-btn" onclick="toggleSpan(this)">
            M
        </button>
        <span class="hover-span" onclick="showModalWithLoader(this, 'Montly Installments')">Monthly Payments 
            <span class="badge monthly-btn bg-sm badge-custom text-light">7</span>
        </span>
    </div>
   
</div>

<script>
    const toggleSpan = (button) => {
        const span = button.nextElementSibling;

        if (span.classList.contains('show')) {
            span.classList.remove('show');
        } else {
            document.querySelectorAll('.hover-span').forEach(s => s.classList.remove('show'));
            span.classList.add('show');
        }
    }

    const showModalWithLoader = (spanElement, title) =>{
        spanElement.classList.remove('show');
        const modal = new bootstrap.Modal(document.getElementById('creditModal'));
        const modalTitle = document.getElementById('modalLabel');
        modalTitle.innerText = title;
        modal.show();
    }
</script>
{% endblock content %}
